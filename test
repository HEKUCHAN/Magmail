u001b[1;31m---------------------------------------------------------------------------\u001b[0m\n\u001b[1;31mTypeError\u001b[0m                                 Traceback (most recent call last)\nCell \u001b[1;32mIn[3], line 1\u001b[0m\n\u001b[1;32m----> 1\u001b[0m mail \u001b[39m=\u001b[39m Mail(\n\u001b[0;32m      2\u001b[0m     message,\n\u001b[0;32m      3\u001b[0m     auto_clean\u001b[39m=\u001b[39;49m\u001b[39mTrue\u001b[39;49;00m\n\u001b[0;32m      4\u001b[0m )\n\nFile \u001b[1;32mH:\\works\\Magmail\\src\\magmail\\mail\\mail.py:31\u001b[0m, in \u001b[0;36mMail.__init__\u001b[1;34m(self, message, auto_clean, custom_clean_function)\u001b[0m\n\u001b[0;32m     29\u001b[0m \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mcustom_clean_function \u001b[39m=\u001b[39m custom_clean_function\n\u001b[0;32m     30\u001b[0m \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mheaders \u001b[39m=\u001b[39m []\n\u001b[1;32m---> 31\u001b[0m \u001b[39mself\u001b[39;49m\u001b[39m.\u001b[39;49m_get_headers()\n\nFile \u001b[1;32mH:\\works\\Magmail\\src\\magmail\\mail\\mail.py:36\u001b[0m, in \u001b[0;36mMail._get_headers\u001b[1;34m(self)\u001b[0m\n\u001b[0;32m     33\u001b[0m \u001b[39mdef\u001b[39;00m \u001b[39m_get_headers\u001b[39m(\u001b[39mself\u001b[39m):\n\u001b[0;32m     34\u001b[0m     \u001b[39mfor\u001b[39;00m header \u001b[39min\u001b[39;00m \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mmessage\u001b[39m.\u001b[39mitems():\n\u001b[0;32m     35\u001b[0m         \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mheaders\u001b[39m.\u001b[39mappend(\n\u001b[1;32m---> 36\u001b[0m             _Header(\n\u001b[0;32m     37\u001b[0m                 header\u001b[39m=\u001b[39;49mheader,\n\u001b[0;32m     38\u001b[0m                 auto_clean\u001b[39m=\u001b[39;49m\u001b[39mself\u001b[39;49m\u001b[39m.\u001b[39;49mauto_clean,\n\u001b[0;32m     39\u001b[0m                 custom_clean_function\u001b[39m=\u001b[39;49m\u001b[39mself\u001b[39;49m\u001b[39m.\u001b[39;49mcustom_clean_function\n\u001b[0;32m     40\u001b[0m             )\n\u001b[0;32m     41\u001b[0m         )\n\nFile \u001b[1;32mH:\\works\\Magmail\\src\\magmail\\mail\\header.py:26\u001b[0m, in \u001b[0;36m_Header.__init__\u001b[1;34m(self, header, auto_clean, custom_clean_function)\u001b[0m\n\u001b[0;32m     23\u001b[0m \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mcustom_clean_function \u001b[39m=\u001b[39m custom_clean_function\n\u001b[0;32m     24\u001b[0m \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mauto_clean \u001b[39m=\u001b[39m auto_clean\n\u001b[1;32m---> 26\u001b[0m \u001b[39mself\u001b[39;49m\u001b[39m.\u001b[39;49mdecode()\n\nFile \u001b[1;32mH:\\works\\Magmail\\src\\magmail\\mail\\header.py:33\u001b[0m, in \u001b[0;36m_Header.decode\u001b[1;34m(self)\u001b[0m\n\u001b[0;32m     31\u001b[0m \u001b[39mif\u001b[39;00m \u001b[39misinstance\u001b[39m(byte, \u001b[39mbytes\u001b[39m):\n\u001b[0;32m     32\u001b[0m     decoder: Decoder \u001b[39m=\u001b[39m Decoder(byte\u001b[39m=\u001b[39mbyte, encoding\u001b[39m=\u001b[39mencoding)\n\u001b[1;32m---> 33\u001b[0m     decoder\u001b[39m.\u001b[39;49mdecode()\n\u001b[0;32m     35\u001b[0m     body_parts\u001b[39m.\u001b[39mappend(decoder\u001b[39m.\u001b[39mdecoded)\n\u001b[0;32m     36\u001b[0m \u001b[39melif\u001b[39;00m \u001b[39misinstance\u001b[39m(byte, \u001b[39mstr\u001b[39m):\n\nFile \u001b[1;32mH:\\works\\Magmail\\src\\magmail\\decode\\decoder.py:29\u001b[0m, in \u001b[0;36mDecoder.decode\u001b[1;34m(self)\u001b[0m\n\u001b[0;32m     27\u001b[0m         \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mvariant_decode()\n\u001b[0;32m     28\u001b[0m \u001b[39melse\u001b[39;00m:\n\u001b[1;32m---> 29\u001b[0m     \u001b[39mself\u001b[39;49m\u001b[39m.\u001b[39;49mdetect_charset()\n\u001b[0;32m     30\u001b[0m     \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mdecode()\n\nFile \u001b[1;32mH:\\works\\Magmail\\src\\magmail\\decode\\decoder.py:20\u001b[0m, in \u001b[0;36mDecoder.detect_charset\u001b[1;34m(self)\u001b[0m\n\u001b[0;32m     18\u001b[0m \u001b[39mdef\u001b[39;00m \u001b[39mdetect_charset\u001b[39m(\u001b[39mself\u001b[39m):\n\u001b[0;32m     19\u001b[0m     \u001b[39mself\u001b[39m\u001b[39m.\u001b[39moriginal_encoding \u001b[39m=\u001b[39m \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mencoding\n\u001b[1;32m---> 20\u001b[0m     \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mencoding \u001b[39m=\u001b[39m chardet\u001b[39m.\u001b[39;49mdetect(\u001b[39mself\u001b[39;49m, \u001b[39mbytes\u001b[39;49m)\n\nFile \u001b[1;32mc:\\Users\\Heito\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\chardet\\__init__.py:44\u001b[0m, in \u001b[0;36mdetect\u001b[1;34m(byte_str, should_rename_legacy)\u001b[0m\n\u001b[0;32m     42\u001b[0m \u001b[39mif\u001b[39;00m \u001b[39mnot\u001b[39;00m \u001b[39misinstance\u001b[39m(byte_str, \u001b[39mbytearray\u001b[39m):\n\u001b[0;32m     43\u001b[0m     \u001b[39mif\u001b[39;00m \u001b[39mnot\u001b[39;00m \u001b[39misinstance\u001b[39m(byte_str, \u001b[39mbytes\u001b[39m):\n\u001b[1;32m---> 44\u001b[0m         \u001b[39mraise\u001b[39;00m \u001b[39mTypeError\u001b[39;00m(\n\u001b[0;32m     45\u001b[0m             \u001b[39mf\u001b[39m\u001b[39m\"\u001b[39m\u001b[39mExpected object of type bytes or bytearray, got: \u001b[39m\u001b[39m{\u001b[39;00m\u001b[39mtype\u001b[39m(byte_str)\u001b[39m}\u001b[39;00m\u001b[39m\"\u001b[39m\n\u001b[0;32m     46\u001b[0m         )\n\u001b[0;32m     47\u001b[0m     byte_str \u001b[39m=\u001b[39m \u001b[39mbytearray\u001b[39m(byte_str)\n\u001b[0;32m     48\u001b[0m detector \u001b[39m=\u001b[39m UniversalDetector(should_rename_legacy\u001b[39m=\u001b[39mshould_rename_legacy)\n\n\u001b[1;31mTypeError\u001b[0m: Expected object of type bytes or bytearray, got: <class 'magmail.decode.decoder.Decoder'>